{"ast":null,"code":"var _jsxFileName = \"/Users/harper/Desktop/scriptboard-project/frontend/src/pages/DashboardPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Plus, FileText, Calendar, MoreVertical, Trash2, Edit, Download } from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useApp } from '../contexts/AppContext';\nimport { Layout, PageContainer } from '../components/layout';\nimport { Button, Card, Alert, Modal, Input, Textarea } from '../components/ui';\nimport apiService from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DashboardPage = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const {\n    projects,\n    setProjects,\n    updateProject,\n    removeProject,\n    uiState,\n    setLoading,\n    setError,\n    setSuccess\n  } = useApp();\n  const navigate = useNavigate();\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [selectedProject, setSelectedProject] = useState(null);\n  const [dropdownOpen, setDropdownOpen] = useState(null);\n\n  // Create project form state\n  const [createForm, setCreateForm] = useState({\n    name: '',\n    description: '',\n    scriptContent: ''\n  });\n  const [createErrors, setCreateErrors] = useState({});\n\n  // Load projects on component mount\n  useEffect(() => {\n    loadProjects();\n  }, []);\n  const loadProjects = async () => {\n    try {\n      setLoading(true);\n      const response = await apiService.getProjects();\n      setProjects(response.data);\n    } catch (error) {\n      setError({\n        code: 'LOAD_PROJECTS_ERROR',\n        message: error instanceof Error ? error.message : 'Failed to load projects',\n        timestamp: new Date().toISOString()\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const validateCreateForm = () => {\n    const errors = {};\n    if (!createForm.name.trim()) {\n      errors.name = 'Project name is required';\n    } else if (createForm.name.length < 3) {\n      errors.name = 'Project name must be at least 3 characters';\n    }\n    if (createForm.description && createForm.description.length > 500) {\n      errors.description = 'Description must be less than 500 characters';\n    }\n    setCreateErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n  const handleCreateProject = async e => {\n    e.preventDefault();\n    if (!validateCreateForm()) return;\n    try {\n      setLoading(true);\n      const newProject = await apiService.createProject(createForm);\n      setProjects([...projects, newProject]);\n      setSuccess('Project created successfully!');\n      setIsCreateModalOpen(false);\n      setCreateForm({\n        name: '',\n        description: '',\n        scriptContent: ''\n      });\n      setCreateErrors({});\n    } catch (error) {\n      setError({\n        code: 'CREATE_PROJECT_ERROR',\n        message: error instanceof Error ? error.message : 'Failed to create project',\n        timestamp: new Date().toISOString()\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDeleteProject = async () => {\n    if (!selectedProject) return;\n    try {\n      setLoading(true);\n      await apiService.deleteProject(selectedProject.id);\n      removeProject(selectedProject.id);\n      setSuccess('Project deleted successfully!');\n      setIsDeleteModalOpen(false);\n      setSelectedProject(null);\n    } catch (error) {\n      setError({\n        code: 'DELETE_PROJECT_ERROR',\n        message: error instanceof Error ? error.message : 'Failed to delete project',\n        timestamp: new Date().toISOString()\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleEditProject = project => {\n    navigate(`/editor/${project.id}`);\n  };\n  const handleExportProject = async project => {\n    try {\n      setLoading(true);\n      const exportResponse = await apiService.exportProject({\n        projectId: project.id,\n        format: 'pdf'\n      });\n\n      // Create download link\n      const link = document.createElement('a');\n      link.href = exportResponse.downloadUrl;\n      link.download = exportResponse.filename;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      setSuccess('Project exported successfully!');\n    } catch (error) {\n      setError({\n        code: 'EXPORT_PROJECT_ERROR',\n        message: error instanceof Error ? error.message : 'Failed to export project',\n        timestamp: new Date().toISOString()\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n  const getSceneCount = project => {\n    var _project$storyboardDa;\n    return ((_project$storyboardDa = project.storyboardData) === null || _project$storyboardDa === void 0 ? void 0 : _project$storyboardDa.length) || 0;\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    requireAuth: true,\n    children: /*#__PURE__*/_jsxDEV(PageContainer, {\n      title: `Welcome back, ${user === null || user === void 0 ? void 0 : user.username}!`,\n      subtitle: \"Manage your script-to-storyboard projects\",\n      children: [uiState.error && /*#__PURE__*/_jsxDEV(Alert, {\n        type: \"error\",\n        message: uiState.error.message,\n        onClose: () => setError(null),\n        className: \"mb-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this), uiState.success && /*#__PURE__*/_jsxDEV(Alert, {\n        type: \"success\",\n        message: uiState.success,\n        onClose: () => setSuccess(null),\n        className: \"mb-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-secondary-900\",\n            children: [\"Your Projects (\", projects.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-secondary-600\",\n            children: \"Create and manage your storyboard projects\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setIsCreateModalOpen(true),\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"New Project\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), uiState.isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-secondary-600\",\n          children: \"Loading projects...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this) : projects.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(FileText, {\n          className: \"w-16 h-16 text-secondary-400 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-secondary-900 mb-2\",\n          children: \"No projects yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-secondary-600 mb-6\",\n          children: \"Get started by creating your first project\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setIsCreateModalOpen(true),\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Create Your First Project\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n        children: projects.map(project => /*#__PURE__*/_jsxDEV(Card, {\n          className: \"relative hover:shadow-lg transition-shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-start mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-secondary-900 truncate\",\n              children: project.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"ghost\",\n                size: \"sm\",\n                onClick: () => setDropdownOpen(dropdownOpen === project.id ? null : project.id),\n                children: /*#__PURE__*/_jsxDEV(MoreVertical, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 21\n              }, this), dropdownOpen === project.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    handleEditProject(project);\n                    setDropdownOpen(null);\n                  },\n                  className: \"flex items-center w-full px-4 py-2 text-sm text-secondary-700 hover:bg-secondary-100\",\n                  children: [/*#__PURE__*/_jsxDEV(Edit, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 27\n                  }, this), \"Edit\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    handleExportProject(project);\n                    setDropdownOpen(null);\n                  },\n                  className: \"flex items-center w-full px-4 py-2 text-sm text-secondary-700 hover:bg-secondary-100\",\n                  children: [/*#__PURE__*/_jsxDEV(Download, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 27\n                  }, this), \"Export\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setSelectedProject(project);\n                    setIsDeleteModalOpen(true);\n                    setDropdownOpen(null);\n                  },\n                  className: \"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50\",\n                  children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 27\n                  }, this), \"Delete\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-secondary-600 text-sm mb-4 line-clamp-3\",\n            children: project.description || 'No description provided'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-sm text-secondary-500 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(Calendar, {\n              className: \"w-4 h-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Updated \", formatDate(project.updatedAt)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-secondary-600\",\n              children: [getSceneCount(project), \" scenes\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: `/editor/${project.id}`,\n              className: \"text-primary-600 hover:text-primary-700 text-sm font-medium\",\n              children: \"Open Project \\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 17\n          }, this)]\n        }, project.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: isCreateModalOpen,\n        onClose: () => setIsCreateModalOpen(false),\n        title: \"Create New Project\",\n        size: \"md\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleCreateProject,\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            label: \"Project Name\",\n            value: createForm.name,\n            onChange: e => setCreateForm({\n              ...createForm,\n              name: e.target.value\n            }),\n            error: createErrors.name,\n            placeholder: \"Enter project name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n            label: \"Description (Optional)\",\n            value: createForm.description || '',\n            onChange: e => setCreateForm({\n              ...createForm,\n              description: e.target.value\n            }),\n            error: createErrors.description,\n            placeholder: \"Brief description of your project\",\n            rows: 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n            label: \"Initial Script (Optional)\",\n            value: createForm.scriptContent || '',\n            onChange: e => setCreateForm({\n              ...createForm,\n              scriptContent: e.target.value\n            }),\n            placeholder: \"Paste your script here or leave empty to add later\",\n            rows: 6\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-3 pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              type: \"button\",\n              variant: \"secondary\",\n              onClick: () => setIsCreateModalOpen(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              isLoading: uiState.isLoading,\n              children: \"Create Project\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: isDeleteModalOpen,\n        onClose: () => setIsDeleteModalOpen(false),\n        title: \"Delete Project\",\n        size: \"sm\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-secondary-700\",\n            children: [\"Are you sure you want to delete \\\"\", selectedProject === null || selectedProject === void 0 ? void 0 : selectedProject.name, \"\\\"? This action cannot be undone.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: () => setIsDeleteModalOpen(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"danger\",\n              onClick: handleDeleteProject,\n              isLoading: uiState.isLoading,\n              children: \"Delete Project\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardPage, \"Dr83hA1Y3tqUyOSJkQYGarEy4RE=\", false, function () {\n  return [useAuth, useApp, useNavigate];\n});\n_c = DashboardPage;\nvar _c;\n$RefreshReg$(_c, \"DashboardPage\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","Plus","FileText","Calendar","MoreVertical","Trash2","Edit","Download","useAuth","useApp","Layout","PageContainer","Button","Card","Alert","Modal","Input","Textarea","apiService","jsxDEV","_jsxDEV","DashboardPage","_s","user","projects","setProjects","updateProject","removeProject","uiState","setLoading","setError","setSuccess","navigate","isCreateModalOpen","setIsCreateModalOpen","isDeleteModalOpen","setIsDeleteModalOpen","selectedProject","setSelectedProject","dropdownOpen","setDropdownOpen","createForm","setCreateForm","name","description","scriptContent","createErrors","setCreateErrors","loadProjects","response","getProjects","data","error","code","message","Error","timestamp","Date","toISOString","validateCreateForm","errors","trim","length","Object","keys","handleCreateProject","e","preventDefault","newProject","createProject","handleDeleteProject","deleteProject","id","handleEditProject","project","handleExportProject","exportResponse","exportProject","projectId","format","link","document","createElement","href","downloadUrl","download","filename","body","appendChild","click","removeChild","formatDate","dateString","toLocaleDateString","year","month","day","getSceneCount","_project$storyboardDa","storyboardData","requireAuth","children","title","username","subtitle","type","onClose","className","fileName","_jsxFileName","lineNumber","columnNumber","success","onClick","isLoading","map","variant","size","updatedAt","to","isOpen","onSubmit","label","value","onChange","target","placeholder","required","rows","_c","$RefreshReg$"],"sources":["/Users/harper/Desktop/scriptboard-project/frontend/src/pages/DashboardPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Plus, FileText, Calendar, MoreVertical, Trash2, Edit, Download } from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useApp } from '../contexts/AppContext';\nimport { Layout, PageContainer } from '../components/layout';\nimport { Button, Card, Alert, Modal, Input, Textarea } from '../components/ui';\nimport { Project, CreateProjectRequest } from '../types';\nimport apiService from '../services/api';\n\nexport const DashboardPage: React.FC = () => {\n  const { user } = useAuth();\n  const { projects, setProjects, updateProject, removeProject, uiState, setLoading, setError, setSuccess } = useApp();\n  const navigate = useNavigate();\n\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [selectedProject, setSelectedProject] = useState<Project | null>(null);\n  const [dropdownOpen, setDropdownOpen] = useState<string | null>(null);\n\n  // Create project form state\n  const [createForm, setCreateForm] = useState<CreateProjectRequest>({\n    name: '',\n    description: '',\n    scriptContent: '',\n  });\n  const [createErrors, setCreateErrors] = useState<Partial<CreateProjectRequest>>({});\n\n  // Load projects on component mount\n  useEffect(() => {\n    loadProjects();\n  }, []);\n\n  const loadProjects = async () => {\n    try {\n      setLoading(true);\n      const response = await apiService.getProjects();\n      setProjects(response.data);\n    } catch (error) {\n      setError({\n        code: 'LOAD_PROJECTS_ERROR',\n        message: error instanceof Error ? error.message : 'Failed to load projects',\n        timestamp: new Date().toISOString(),\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const validateCreateForm = (): boolean => {\n    const errors: Partial<CreateProjectRequest> = {};\n\n    if (!createForm.name.trim()) {\n      errors.name = 'Project name is required';\n    } else if (createForm.name.length < 3) {\n      errors.name = 'Project name must be at least 3 characters';\n    }\n\n    if (createForm.description && createForm.description.length > 500) {\n      errors.description = 'Description must be less than 500 characters';\n    }\n\n    setCreateErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleCreateProject = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateCreateForm()) return;\n\n    try {\n      setLoading(true);\n      const newProject = await apiService.createProject(createForm);\n      setProjects([...projects, newProject]);\n      setSuccess('Project created successfully!');\n      setIsCreateModalOpen(false);\n      setCreateForm({ name: '', description: '', scriptContent: '' });\n      setCreateErrors({});\n    } catch (error) {\n      setError({\n        code: 'CREATE_PROJECT_ERROR',\n        message: error instanceof Error ? error.message : 'Failed to create project',\n        timestamp: new Date().toISOString(),\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteProject = async () => {\n    if (!selectedProject) return;\n\n    try {\n      setLoading(true);\n      await apiService.deleteProject(selectedProject.id);\n      removeProject(selectedProject.id);\n      setSuccess('Project deleted successfully!');\n      setIsDeleteModalOpen(false);\n      setSelectedProject(null);\n    } catch (error) {\n      setError({\n        code: 'DELETE_PROJECT_ERROR',\n        message: error instanceof Error ? error.message : 'Failed to delete project',\n        timestamp: new Date().toISOString(),\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditProject = (project: Project) => {\n    navigate(`/editor/${project.id}`);\n  };\n\n  const handleExportProject = async (project: Project) => {\n    try {\n      setLoading(true);\n      const exportResponse = await apiService.exportProject({\n        projectId: project.id,\n        format: 'pdf',\n      });\n      \n      // Create download link\n      const link = document.createElement('a');\n      link.href = exportResponse.downloadUrl;\n      link.download = exportResponse.filename;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      \n      setSuccess('Project exported successfully!');\n    } catch (error) {\n      setError({\n        code: 'EXPORT_PROJECT_ERROR',\n        message: error instanceof Error ? error.message : 'Failed to export project',\n        timestamp: new Date().toISOString(),\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n    });\n  };\n\n  const getSceneCount = (project: Project) => {\n    return project.storyboardData?.length || 0;\n  };\n\n  return (\n    <Layout requireAuth>\n      <PageContainer\n        title={`Welcome back, ${user?.username}!`}\n        subtitle=\"Manage your script-to-storyboard projects\"\n      >\n        {/* Error/Success Messages */}\n        {uiState.error && (\n          <Alert\n            type=\"error\"\n            message={uiState.error.message}\n            onClose={() => setError(null)}\n            className=\"mb-6\"\n          />\n        )}\n        \n        {uiState.success && (\n          <Alert\n            type=\"success\"\n            message={uiState.success}\n            onClose={() => setSuccess(null)}\n            className=\"mb-6\"\n          />\n        )}\n\n        {/* Header Actions */}\n        <div className=\"flex justify-between items-center mb-6\">\n          <div>\n            <h2 className=\"text-lg font-semibold text-secondary-900\">\n              Your Projects ({projects.length})\n            </h2>\n            <p className=\"text-sm text-secondary-600\">\n              Create and manage your storyboard projects\n            </p>\n          </div>\n          \n          <Button\n            onClick={() => setIsCreateModalOpen(true)}\n            className=\"flex items-center space-x-2\"\n          >\n            <Plus className=\"w-4 h-4\" />\n            <span>New Project</span>\n          </Button>\n        </div>\n\n        {/* Projects Grid */}\n        {uiState.isLoading ? (\n          <div className=\"text-center py-12\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\n            <p className=\"mt-4 text-secondary-600\">Loading projects...</p>\n          </div>\n        ) : projects.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <FileText className=\"w-16 h-16 text-secondary-400 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-secondary-900 mb-2\">\n              No projects yet\n            </h3>\n            <p className=\"text-secondary-600 mb-6\">\n              Get started by creating your first project\n            </p>\n            <Button\n              onClick={() => setIsCreateModalOpen(true)}\n              className=\"flex items-center space-x-2\"\n            >\n              <Plus className=\"w-4 h-4\" />\n              <span>Create Your First Project</span>\n            </Button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {projects.map((project) => (\n              <Card key={project.id} className=\"relative hover:shadow-lg transition-shadow\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <h3 className=\"text-lg font-semibold text-secondary-900 truncate\">\n                    {project.name}\n                  </h3>\n                  \n                  <div className=\"relative\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => setDropdownOpen(\n                        dropdownOpen === project.id ? null : project.id\n                      )}\n                    >\n                      <MoreVertical className=\"w-4 h-4\" />\n                    </Button>\n                    \n                    {dropdownOpen === project.id && (\n                      <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10\">\n                        <button\n                          onClick={() => {\n                            handleEditProject(project);\n                            setDropdownOpen(null);\n                          }}\n                          className=\"flex items-center w-full px-4 py-2 text-sm text-secondary-700 hover:bg-secondary-100\"\n                        >\n                          <Edit className=\"w-4 h-4 mr-2\" />\n                          Edit\n                        </button>\n                        <button\n                          onClick={() => {\n                            handleExportProject(project);\n                            setDropdownOpen(null);\n                          }}\n                          className=\"flex items-center w-full px-4 py-2 text-sm text-secondary-700 hover:bg-secondary-100\"\n                        >\n                          <Download className=\"w-4 h-4 mr-2\" />\n                          Export\n                        </button>\n                        <button\n                          onClick={() => {\n                            setSelectedProject(project);\n                            setIsDeleteModalOpen(true);\n                            setDropdownOpen(null);\n                          }}\n                          className=\"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50\"\n                        >\n                          <Trash2 className=\"w-4 h-4 mr-2\" />\n                          Delete\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                <p className=\"text-secondary-600 text-sm mb-4 line-clamp-3\">\n                  {project.description || 'No description provided'}\n                </p>\n\n                <div className=\"flex items-center text-sm text-secondary-500 mb-4\">\n                  <Calendar className=\"w-4 h-4 mr-1\" />\n                  <span>Updated {formatDate(project.updatedAt)}</span>\n                </div>\n\n                <div className=\"flex justify-between items-center\">\n                  <div className=\"text-sm text-secondary-600\">\n                    {getSceneCount(project)} scenes\n                  </div>\n                  \n                  <Link\n                    to={`/editor/${project.id}`}\n                    className=\"text-primary-600 hover:text-primary-700 text-sm font-medium\"\n                  >\n                    Open Project â†’\n                  </Link>\n                </div>\n              </Card>\n            ))}\n          </div>\n        )}\n\n        {/* Create Project Modal */}\n        <Modal\n          isOpen={isCreateModalOpen}\n          onClose={() => setIsCreateModalOpen(false)}\n          title=\"Create New Project\"\n          size=\"md\"\n        >\n          <form onSubmit={handleCreateProject} className=\"space-y-4\">\n            <Input\n              label=\"Project Name\"\n              value={createForm.name}\n              onChange={(e) => setCreateForm({ ...createForm, name: e.target.value })}\n              error={createErrors.name}\n              placeholder=\"Enter project name\"\n              required\n            />\n\n            <Textarea\n              label=\"Description (Optional)\"\n              value={createForm.description || ''}\n              onChange={(e) => setCreateForm({ ...createForm, description: e.target.value })}\n              error={createErrors.description}\n              placeholder=\"Brief description of your project\"\n              rows={3}\n            />\n\n            <Textarea\n              label=\"Initial Script (Optional)\"\n              value={createForm.scriptContent || ''}\n              onChange={(e) => setCreateForm({ ...createForm, scriptContent: e.target.value })}\n              placeholder=\"Paste your script here or leave empty to add later\"\n              rows={6}\n            />\n\n            <div className=\"flex justify-end space-x-3 pt-4\">\n              <Button\n                type=\"button\"\n                variant=\"secondary\"\n                onClick={() => setIsCreateModalOpen(false)}\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\" isLoading={uiState.isLoading}>\n                Create Project\n              </Button>\n            </div>\n          </form>\n        </Modal>\n\n        {/* Delete Confirmation Modal */}\n        <Modal\n          isOpen={isDeleteModalOpen}\n          onClose={() => setIsDeleteModalOpen(false)}\n          title=\"Delete Project\"\n          size=\"sm\"\n        >\n          <div className=\"space-y-4\">\n            <p className=\"text-secondary-700\">\n              Are you sure you want to delete \"{selectedProject?.name}\"? This action cannot be undone.\n            </p>\n            \n            <div className=\"flex justify-end space-x-3\">\n              <Button\n                variant=\"secondary\"\n                onClick={() => setIsDeleteModalOpen(false)}\n              >\n                Cancel\n              </Button>\n              <Button\n                variant=\"danger\"\n                onClick={handleDeleteProject}\n                isLoading={uiState.isLoading}\n              >\n                Delete Project\n              </Button>\n            </div>\n          </div>\n        </Modal>\n      </PageContainer>\n    </Layout>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}